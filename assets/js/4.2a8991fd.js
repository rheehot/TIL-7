(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{256:function(t,s){t.exports="data:image/png;base64,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"},257:function(t,s,a){t.exports=a.p+"assets/img/nested_categories.71613a3d.png"},258:function(t,s,a){t.exports=a.p+"assets/img/nested_numbered.05c34c80.png"},259:function(t,s,a){t.exports=a.p+"assets/img/numbered_tree.6fb51bb4.png"},305:function(t,s,a){"use strict";a.r(s);var r=a(29),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"managing-hierarchical-data-in-mysql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#managing-hierarchical-data-in-mysql"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Managing Hierarchical Data in MySQL"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("계층적 데이터 관리는 관계형데이터베이스의 목적이 아니다.\n전통적인 인접 목록 모델에서 시작하여 MySql에서 계층적 데이터를 다루기 위한 두가지 모델을 소개한다.")]),t._v(" "),r("h2",{attrs:{id:"adjacency-list-model-인접-목록-모델"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#adjacency-list-model-인접-목록-모델"}},[t._v("#")]),t._v(" ADJACENCY LIST MODEL 인접 목록 모델")]),t._v(" "),r("p",[r("img",{attrs:{src:a(256),alt:"ADJACENCY LIST MODEL"}})]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("CREATE TABLE category "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" \n        category_id INT AUTO_INCREMENT 기본 키, \n        이름 VARCHAR "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" NOT NULL, \n        부모 INT DEFAULT NULL \n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n범주 값에 삽입 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ELECTRONICS'")]),t._v(", NULL"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TELEVISIONS'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TUBE'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", \n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LCD'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PLASMA'")]),t._v(" , "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'휴대용 전자 제품'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MP3 플레이어'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'플래시'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", \n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CD 플레이어'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2 웨이 라디오'")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nSELECT * FROM 카테고리 ORDER BY category_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n+ ------------- + ---------------------- + -------- + \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" category_id "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 이름 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 부모 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n+ ------------- + ---------------------- + -------- + \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 전자 제품 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 텔레비전 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 관 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 플라즈마 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 휴대용 전자 제품 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 플레이어 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" 플래시 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD 플레이어 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 웨이 라디오 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n+ ------------- + ---------------------- + -------- + \n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" 행 세트 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" 초"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("ul",[r("li",[t._v("각 항목에는 상위 항목에 대한 포인터가 존재한다. 최상위 요소일 경우 상위요소에 대해 NULL 이다.")]),t._v(" "),r("li",[t._v("매우 간단")]),t._v(" "),r("li",[t._v("클라이언트측 코드에서는 상당히 쉽게 처리할 수 있지만 순수 SQL에서는 모델 작업이 문제가 될 수 있다.")])]),t._v(" "),r("h3",{attrs:{id:"전체-트리-검색"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#전체-트리-검색"}},[t._v("#")]),t._v(" 전체 트리 검색")]),t._v(" "),r("p",[t._v("계층적 데이터를 처리할 때,\n전체 트리 표시를 가장 먼저 한다.")]),t._v(" "),r("ul",[r("li",[t._v("순수 SQL에서 자체 조인을 사용하는것이 가장 일반적이다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT t1.name AS lev1, t2.name as lev2, t3.name as lev3, t4.name as lev4\nFROM category AS t1\nLEFT JOIN category AS t2 ON t2.parent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t1.category_id\nLEFT JOIN category AS t3 ON t3.parent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t2.category_id\nLEFT JOIN category AS t4 ON t4.parent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t3.category_id\nWHERE t1.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ELECTRONICS'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+-------------+----------------------+--------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev1        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev2                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev3         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev4  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-------------+----------------------+--------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA       "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-------------+----------------------+--------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" rows "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" sec"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("h3",{attrs:{id:"모든-리프-노트-찾기"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#모든-리프-노트-찾기"}},[t._v("#")]),t._v(" 모든 리프 노트 찾기")]),t._v(" "),r("ul",[r("li",[t._v("left join 을 사용하여 트리에서 하위노드가 없는 모든 리프 노드를 찾을 수 있다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT t1.name FROM\ncategory AS t1 LEFT JOIN category as t2\nON t1.category_id "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t2.parent\nWHERE t2.category_id IS NULL"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+--------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA       "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------------+\n")])])]),r("h3",{attrs:{id:"단일-경로-검색"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#단일-경로-검색"}},[t._v("#")]),t._v(" 단일 경로 검색")]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("   SELECT t1.name AS lev1, t2.name as lev2, t3.name as lev3, t4.name as lev4\n   FROM category AS t1\n   LEFT JOIN category AS t2 ON t2.parent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t1.category_id\n   LEFT JOIN category AS t3 ON t3.parent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t2.category_id\n   LEFT JOIN category AS t4 ON t4.parent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t3.category_id\n   WHERE t1.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ELECTRONICS'")]),t._v(" AND t4.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FLASH'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   \n   +-------------+----------------------+-------------+-------+\n   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev1        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev2                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev3        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lev4  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n   +-------------+----------------------+-------------+-------+\n   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n   +-------------+----------------------+-------------+-------+\n   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),t._v(" sec"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("p",[t._v("모든 수준 하나하나에 저체 조인이 필요하며 결합이 복잡해짐에 따라 성능이 저하된다.")]),t._v(" "),r("h3",{attrs:{id:"인접성-목록-모델의-한계"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#인접성-목록-모델의-한계"}},[t._v("#")]),t._v(" 인접성 목록 모델의 한계")]),t._v(" "),r("ol",[r("li",[t._v("카테고리의 전체 경로를 보기 전에 카테고리의 레벨을 알아야 한다.")]),t._v(" "),r("li",[t._v("노드를 삭제할 때 특별한 주의가 필요하다.")])]),t._v(" "),r("ul",[r("li",[t._v("절차적 프로그래밍을 사용하여 트리의 맨 아래에서 시작하여 위쪽으로 반복하여 경로를 반환할 수 있다.")]),t._v(" "),r("li",[t._v("하나의 하위 요소를 승격시키고 나머지 하위를 새 상위를 가리키도록 재정렬하여 삭제할수 있다.")])]),t._v(" "),r("h2",{attrs:{id:"nested-set-model-중첩-세트-모델"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nested-set-model-중첩-세트-모델"}},[t._v("#")]),t._v(" Nested Set Model 중첩 세트 모델")]),t._v(" "),r("p",[r("img",{attrs:{src:a(257),alt:"nested_categroies"}})]),t._v(" "),r("ul",[r("li",[t._v("노드와 선이 아 중첩 컨테이너로의 계층 방식")]),t._v(" "),r("li",[t._v("노드의 중첩을 나타내는 왼쪽 및 오른쪽 값을 사용하여이 형식의 계층 구조를 테이블에 나타냅니다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("CREATE TABLE nested_category "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        category_id INT AUTO_INCREMENT PRIMARY KEY,\n        name VARCHAR"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" NOT NULL,\n        lft INT NOT NULL,\n        rgt INT NOT NULL\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nINSERT INTO nested_category VALUES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ELECTRONICS'")]),t._v(",1,20"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TELEVISIONS'")]),t._v(",2,9"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TUBE'")]),t._v(",3,4"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LCD'")]),t._v(",5,6"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PLASMA'")]),t._v(",7,8"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PORTABLE ELECTRONICS'")]),t._v(",10,19"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MP3 PLAYERS'")]),t._v(",11,14"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FLASH'")]),t._v(",12,13"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CD PLAYERS'")]),t._v(",15,16"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(","),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2 WAY RADIOS'")]),t._v(",17,18"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSELECT * FROM nested_category ORDER BY category_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+-------------+----------------------+-----+-----+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" category_id "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-------------+----------------------+-----+-----+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA               "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-------------+----------------------+-----+-----+\n")])])]),r("ul",[r("li",[r("p",[t._v("왼쪽 오른쪽 값의 결정 : 노드의 가장 왼쪽부터 번호를 매긴다.\n"),r("img",{attrs:{src:a(258),alt:"nested_numbered"}})])]),t._v(" "),r("li",[r("p",[t._v("트리에 적용 -> modified preorder tree traversal algorithm.\n"),r("img",{attrs:{src:a(259),alt:"numbered_tree"}})])])]),t._v(" "),r("h3",{attrs:{id:"전체-트리-검색-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#전체-트리-검색-2"}},[t._v("#")]),t._v(" 전체 트리 검색")]),t._v(" "),r("ul",[r("li",[t._v("노드의 lft 값이 항상 부모의 lft 보다 크고 rgt 보다 작다")]),t._v(" "),r("li",[t._v("부모와 노드를 연결하는 self 조인을 사용하여 전체 트리를 검색한다.")]),t._v(" "),r("li",[t._v("트리 깊이에 상관없이 작동한다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT node.name\nFROM nested_category AS node,\n        nested_category AS parent\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\n        AND parent.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ELECTRONICS'")]),t._v("\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA               "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+\n")])])]),r("h3",{attrs:{id:"모든-리프-노드-찾기"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#모든-리프-노드-찾기"}},[t._v("#")]),t._v(" 모든 리프 노드 찾기")]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT name\nFROM nested_category\nWHERE rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+--------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA       "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------------+\n")])])]),r("h3",{attrs:{id:"단일-경로-검색-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#단일-경로-검색-2"}},[t._v("#")]),t._v(" 단일 경로 검색")]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT parent.name\nFROM nested_category AS node,\n        nested_category AS parent\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\n        AND node.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FLASH'")]),t._v("\nORDER BY parent.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+\n")])])]),r("h3",{attrs:{id:"노드의-깊이-찾기"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#노드의-깊이-찾기"}},[t._v("#")]),t._v(" 노드의 깊이 찾기")]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT node.name, "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AS depth\nFROM nested_category AS node,\n        nested_category AS parent\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\nGROUP BY node.name\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+----------------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" depth "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA               "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+-------+\n")])])]),r("ul",[r("li",[t._v("concat, repeat 함수로 카테고리 이름을 들여쓰기 할 수 있다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT CONCAT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" REPEAT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(", COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", node.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AS name\nFROM nested_category AS node,\n        nested_category AS parent\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\nGROUP BY node.name\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+-----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   TUBE                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   LCD                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   PLASMA              "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   MP3 PLAYERS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    FLASH              "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   CD PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------------------+\n")])])]),r("h3",{attrs:{id:"서브-트리의-깊이"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#서브-트리의-깊이"}},[t._v("#")]),t._v(" 서브 트리의 깊이")]),t._v(" "),r("ul",[r("li",[t._v("하위 쿼리와 함께 세 번째 self 조인을 추가하여 하위 트리 새로운 시작점이 될 깊이를 결정한다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("ELECT node.name, "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sub_tree.depth + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v(" AS depth\nFROM nested_category AS node,\n        nested_category AS parent,\n        nested_category AS sub_parent,\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                SELECT node.name, "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AS depth\n                FROM nested_category AS node,\n                nested_category AS parent\n                WHERE node.lft BETWEEN parent.lft AND parent.rgt\n                AND node.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PORTABLE ELECTRONICS'")]),t._v("\n                GROUP BY node.name\n                ORDER BY node.lft\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("AS sub_tree\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\n        AND node.lft BETWEEN sub_parent.lft AND sub_parent.rgt\n        AND sub_parent.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sub_tree.name\nGROUP BY node.name\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+----------------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" depth "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+-------+\n")])])]),r("h3",{attrs:{id:"노드의-즉각적인-하위-항목-찾기"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#노드의-즉각적인-하위-항목-찾기"}},[t._v("#")]),t._v(" 노드의 즉각적인 하위 항목 찾기")]),t._v(" "),r("ul",[r("li",[t._v("상위 노드를 표시하지 않으려면 having depth = 1 로 변경")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT node.name, "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sub_tree.depth + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v(" AS depth\nFROM nested_category AS node,\n        nested_category AS parent,\n        nested_category AS sub_parent,\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                SELECT node.name, "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AS depth\n                FROM nested_category AS node,\n                        nested_category AS parent\n                WHERE node.lft BETWEEN parent.lft AND parent.rgt\n                        AND node.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PORTABLE ELECTRONICS'")]),t._v("\n                GROUP BY node.name\n                ORDER BY node.lft\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("AS sub_tree\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\n        AND node.lft BETWEEN sub_parent.lft AND sub_parent.rgt\n        AND sub_parent.name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sub_tree.name\nGROUP BY node.name\nHAVING depth "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+----------------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" depth "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+-------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+-------+\n")])])]),r("ul",[r("li",[t._v("중첩 집합의 집계 함수")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("CREATE TABLE product\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        product_id INT AUTO_INCREMENT PRIMARY KEY,\n        name VARCHAR"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n        category_id INT NOT NULL\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nINSERT INTO product"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name, category_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" VALUES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20\" TV'")]),t._v(",3"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'36\" TV'")]),t._v(",3"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Super-LCD 42\"'")]),t._v(",4"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Ultra-Plasma 62\"'")]),t._v(",5"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Value Plasma 38\"'")]),t._v(",5"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Power-MP3 5gb'")]),t._v(",7"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Super-Player 1gb'")]),t._v(",8"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Porta CD'")]),t._v(",9"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CD To go!'")]),t._v(",9"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Family Talk 360'")]),t._v(",10"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSELECT * FROM product"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+------------+-------------------+-------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" product_id "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name              "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" category_id "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+------------+-------------------+-------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('" TV            |           3 |\n|          2 | 36"')]),t._v(" TV            "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Super-LCD "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"     |           4 |\n|          4 | Ultra-Plasma 62"')]),t._v("  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Value Plasma "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),t._v('"  '),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Power-MP3 128mb   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Super-Shuffle 1gb "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Porta CD          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD To go"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Family Talk "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("          "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+------------+-------------------+-------------+\n")])])]),r("ul",[r("li",[t._v("카테고리 트리와 각 카테고리의 제품 수를 검색")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT parent.name, COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("product.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nFROM nested_category AS node ,\n        nested_category AS parent,\n        product\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\n        AND node.category_id "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" product.category_id\nGROUP BY parent.name\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+----------------------+---------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("product.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+---------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                  "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TUBE                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" LCD                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PLASMA               "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MP3 PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FLASH                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CD PLAYERS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------------------+---------------------+\n")])])]),r("h3",{attrs:{id:"새-노드-추가"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#새-노드-추가"}},[t._v("#")]),t._v(" 새 노드 추가")]),t._v(" "),r("ul",[r("li",[t._v("TELEVISIONS와 PORTABLE ELECTRONICS 노드 사이에 새 노드를 추가")]),t._v(" "),r("li",[t._v("새 노드의 lft rgt 는 10, 11 이고 오른쪽의 모든 노드의 lft, rgt 값이 2씩 증가한다.")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("LOCK TABLE nested_category WRITE"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSELECT @myRight :"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt FROM nested_category\nWHERE name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TELEVISIONS'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nUPDATE nested_category SET rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WHERE rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @myRight"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nUPDATE nested_category SET lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WHERE lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @myRight"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nINSERT INTO nested_category"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name, lft, rgt"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" VALUES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GAME CONSOLES'")]),t._v(", @myRight + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", @myRight + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nUNLOCK TABLES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("SELECT CONCAT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" REPEAT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(", "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COUNT"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", node.name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AS name\nFROM nested_category AS node,\n        nested_category AS parent\nWHERE node.lft BETWEEN parent.lft AND parent.rgt\nGROUP BY node.name\nORDER BY node.lft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n+-----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" name                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------------------+\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ELECTRONICS           "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  TELEVISIONS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   TUBE                "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   LCD                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   PLASMA              "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  GAME CONSOLES        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  PORTABLE ELECTRONICS "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   MP3 PLAYERS         "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    FLASH              "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   CD PLAYERS          "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WAY RADIOS        "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------------------+\n")])])]),r("ul",[r("li",[t._v("기존 자식이 없는 노드의 자식으로 노드를 추가하는 절차")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("LOCK TABLE nested_category WRITE"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSELECT @myLeft :"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft FROM nested_category\n\nWHERE name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2 WAY RADIOS'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nUPDATE nested_category SET rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WHERE rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @myLeft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nUPDATE nested_category SET lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WHERE lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @myLeft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nINSERT INTO nested_category"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name, lft, rgt"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" VALUES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FRS'")]),t._v(", @myLeft + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", @myLeft + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nUNLOCK TABLES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("ul",[r("li",[t._v("부모 노드는 삭제하지만 자식은 삭제하지 않는것. 하위 노드는 모두 삭제된 상위 레벨로 이동")])]),t._v(" "),r("div",{staticClass:"language-shell script extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("LOCK TABLE nested_category WRITE"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSELECT @myLeft :"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft, @myRight :"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt, @myWidth :"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt - lft + "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nFROM nested_category\nWHERE name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PORTABLE ELECTRONICS'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nDELETE FROM nested_category WHERE lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" @myLeft"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nUPDATE nested_category SET rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" WHERE lft BETWEEN @myLeft AND @myRight"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nUPDATE nested_category SET rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rgt - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WHERE rgt "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @myRight"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nUPDATE nested_category SET lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lft - "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" WHERE lft "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @myRight"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nUNLOCK TABLES"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);