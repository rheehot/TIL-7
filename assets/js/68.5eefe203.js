(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{326:function(s,a,t){"use strict";t.r(a);var n=t(29),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),t("h1",{attrs:{id:"nginx-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-2"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),t("h2",{attrs:{id:"nginx-부팅시-자동-실행"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-부팅시-자동-실행"}},[s._v("#")]),s._v(" Nginx 부팅시 자동 실행")]),s._v(" "),t("div",{staticClass:"language-shell script extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# brew install nginx")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/local/opt/nginx/homebrew.mxcl.nginx.plist /Library/LaunchDaemons/\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" root:wheel /usr/local/opt/nginx/homebrew.mxcl.nginx.plist\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" launchctl load /Library/LaunchDaemons/homebrew.mxcl.nginx.plist\n")])])]),t("h1",{attrs:{id:"cross-domain-issue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cross-domain-issue"}},[s._v("#")]),s._v(" Cross-Domain Issue")]),s._v(" "),t("p",[s._v("CORS (Cross Origin Request)")]),s._v(" "),t("h2",{attrs:{id:"cross-domain"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cross-domain"}},[s._v("#")]),s._v(" Cross-Domain")]),s._v(" "),t("ul",[t("li",[s._v("javascript 보안정책 Same Origin Policy 이다 .")]),s._v(" "),t("li",[s._v("스크립트가 실행되는 페이지와 비동기 호출시 주소의 프로토콜, 호스트, 포트가 같아야 한다.")])]),s._v(" "),t("h2",{attrs:{id:"cross-domain-배경"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cross-domain-배경"}},[s._v("#")]),s._v(" Cross-Domain 배경")]),s._v(" "),t("p",[s._v("클라이언트에서 API서버에 비동기 통신을 하여 데이터를 가져오려고 할때 발생")]),s._v(" "),t("h2",{attrs:{id:"cross-domain-해결"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cross-domain-해결"}},[s._v("#")]),s._v(" Cross-Domain 해결")]),s._v(" "),t("ul",[t("li",[s._v("비동기 호출 서버의 Header에 Access-Control 관련 내용을 보여줌")]),s._v(" "),t("li",[s._v("node.js cors모듈 https://www.npmjs.com/package/cors")])]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" cors "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cors'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("클라이언트 도메인을 localhost:port 가 아닌\n새로이 만들어 회피한다..\n예를들어 test.textory.io 의 프론트 도메인으로 접속을 하면\nproxy_pass:port 설정을 통해 CORS 를 회피하게 되는 것이다.")])]),s._v(" "),t("p",[s._v("회피 설정은")]),s._v(" "),t("div",{staticClass:"language-shell script extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" etc/hosts 설정을 하고 \n$ nginx -s reload\n")])])]),t("h2",{attrs:{id:"ngnix-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ngnix-conf"}},[s._v("#")]),s._v(" ngnix.conf")]),s._v(" "),t("ul",[t("li",[s._v("인증서를 발급받는다.(raks)")]),s._v(" "),t("li",[s._v("ngnix.conf 파일을 받는다. (raks)\n"),t("ul",[t("li",[s._v('/Users/"computerName"/...\n'),t("ul",[t("li",[s._v("computerName 부분을 수정한다.")])])])])])]),s._v(" "),t("h2",{attrs:{id:"reference"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[s._v("#")]),s._v(" Reference")]),s._v(" "),t("ul",[t("li",[s._v("Nesoy Blog https://nesoy.github.io/articles/2017-06/Cross-Domain")]),s._v(" "),t("li",[s._v("nginx 부팅시 자동실행 https://gist.github.com/SergeyMiracle/17753a17531a1f38015364fad159587b")])])])}),[],!1,null,null,null);a.default=r.exports}}]);